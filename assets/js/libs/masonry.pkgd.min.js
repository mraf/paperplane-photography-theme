(function(l,d){if("function"!==typeof l.createEvent)return!1;var m=function(a){var b=a.toLowerCase();return navigator.msPointerEnabled?"MS"+a:window.PointerEvent?b:!1},g=function(a){return"on"+a in window?a:!1},c={useJquery:!d.IGNORE_JQUERY&&"undefined"!==typeof jQuery,swipeThreshold:d.SWIPE_THRESHOLD||100,tapThreshold:d.TAP_THRESHOLD||150,dbltapThreshold:d.DBL_TAP_THRESHOLD||200,longtapThreshold:d.LONG_TAP_THRESHOLD||1E3,tapPrecision:d.TAP_PRECISION/2||30,justTouchEvents:d.JUST_ON_TOUCH_DEVICES},
n=!1,A=g("touchstart")||m("PointerDown"),B=g("touchend")||m("PointerUp"),m=g("touchmove")||m("PointerMove"),u=function(a){return!a.pointerId||"undefined"===typeof p||a.pointerId===p},g=function(a,b,c){b=b.split(" ");for(var e=b.length;e--;)a.addEventListener(b[e],c,!1)},v=function(a,b,d,e){var f=l.createEvent("Event");f.originalEvent=d;e=e||{};e.x=h;e.y=k;e.distance=e.distance;c.useJquery&&(f=jQuery.Event(b,{originalEvent:d}),jQuery(a).trigger(f,e));if(f.initEvent){for(var g in e)f[g]=e[g];f.initEvent(b,
!0,!0);a.dispatchEvent(f)}for(;a;){if(a["on"+b])a["on"+b](f);a=a.parentNode}},q=0,p,h,k,r,t,x,w,y,z;g(l,A+(c.justTouchEvents?"":" mousedown"),function(a){if(u(a)&&!(a.targetTouches&&1<a.targetTouches.length)&&(p=a.pointerId,"mousedown"!==a.type&&(n=!0),"mousedown"!==a.type||!n)){var b=a.targetTouches?a.targetTouches[0]:a;r=h=b.pageX;t=k=b.pageY;z=setTimeout(function(){v(a.target,"longtap",a);w=a.target},c.longtapThreshold);x=(new Date).getTime();q++}});g(l,B+(c.justTouchEvents?"":" mouseup"),function(a){if(u(a)&&
!(a.targetTouches&&1<a.targetTouches.length))if(p=void 0,"mouseup"===a.type&&n)n=!1;else{var b=[],d=(new Date).getTime(),e=t-k,f=r-h;clearTimeout(y);clearTimeout(z);f<=-c.swipeThreshold&&b.push("swiperight");f>=c.swipeThreshold&&b.push("swipeleft");e<=-c.swipeThreshold&&b.push("swipedown");e>=c.swipeThreshold&&b.push("swipeup");if(b.length){for(d=0;d<b.length;d++)v(a.target,b[d],a,{distance:{x:Math.abs(f),y:Math.abs(e)}});q=0}else r>=h-c.tapPrecision&&r<=h+c.tapPrecision&&t>=k-c.tapPrecision&&t<=
k+c.tapPrecision&&0<=x+c.tapThreshold-d&&(v(a.target,2<=q&&w===a.target?"dbltap":"tap",a),w=a.target),y=setTimeout(function(){q=0},c.dbltapThreshold)}});g(l,m+(c.justTouchEvents?"":" mousemove"),function(a){!u(a)||"mousemove"===a.type&&n||(a=a.targetTouches?a.targetTouches[0]:a,h=a.pageX,k=a.pageY)});d.tocca=function(a){for(var b in a)c[b]=a[b];return c}})(document,window);
